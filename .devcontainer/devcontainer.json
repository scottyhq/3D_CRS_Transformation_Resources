// https://pixi.sh/latest/integration/editor/vscode/#devcontainer-extension
{
    "name": "3DCRS-workspace",
    "build": {
      "dockerfile": "Dockerfile",
      "context": ".."
    },
    "customizations": {
      "vscode": {
        "settings": {},
        "extensions": ["ms-toolsai.jupyter", "ms-python.python"]
      }
    },
"features": {
    "ghcr.io/devcontainers/features/python:1": {
        "version":"3.12",
        "installTools": false,
        // "toolsToInstall":"jupyterlab_myst,pixi-kernel",
        "installJupyterlab":true
    }
},
    // pixi global install puts binaries in ~/.pixi/bin
    // "remoteEnv": {
    //    "PATH": "${containerEnv:PATH}:/home/vscode/.pixi/bin"
    //},
    "mounts": ["source=${localWorkspaceFolderBasename}-pixi,target=${containerWorkspaceFolder}/.pixi,type=volume"],
    // https://containers.dev/implementors/json_reference/#formatting-string-vs-array-properties
    "postCreateCommand": {
        "configure_jupyterlab": "pip install jupyterlab_myst pixi-kernel"
        // "set_permissions": "sudo chown vscode .pixi",
        // "install_global_tools": "pixi global install -e jupyterlab jupyterlab jupyterlab-myst pixi-kernel",
        // "install_pixi_environment": "pixi install"
    }
}
